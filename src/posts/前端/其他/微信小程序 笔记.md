---
icon: article
date: 2022-01-10
title: 微信小程序 笔记
category:
- 前端
- 其他

tag:
- 微信小程序
---



# 微信小程序 笔记

****



## 使用及插件：

### css tree 插件 ，在扩展程序中搜索安装

介绍：快速获取div的class名称

使用：ctrl+shift+p



## 语法类



### 	view{$}*100 会生成100个view 标签



### 包裹一个代码块，通常放置wx:if，显示一大块面板

```html
<block></block> 
```

###### 	

### 第二行省略号隐藏功能，对view有效，text无效

```html
 display: -webkit-box;
 overflow: hidden;
 -webkit-box-orient: vertical;
 -webkit-line-clamp: 2;
```

###### 	

### scope.address属性名怪异，含.，要[]包裹起来使其合法

```html
const scopeAdress=result.authSetting['scope.address']
```



### 生命周期函数

```vue
onShow()       //每次页面显示都会调用

onLoad()  	   //只有加载该页面时才会调用

//从二级页面返回该页面时，onLoad不会再次加载，而onshow会重新加载
```



### every方法 

遍历数组对象 若所有返回值都为true输出才为true 否则false

```js
const checkedAll = cart.length ? cart.every(v => v.isChecked) : false
```

##### 



## 遇到问题和bug



### 当文件夹与文件同名时，components组件可能不显示

办法：重命名文件夹即可



### wxss计算高度表达式

wxss计算高度表达式复杂时要加括号以免没计算出结果

用calc()计算时 空格尤其重要，有无会影响结果的成功



### 报错 ：cart.forEach is not a function 

原因 : cart是通过wx.getStorageSync获取的，得到的cart不是一个数组

解决 : 在赋值cart 处用 Array.from 数组化



### components下的组件向父组件传递事件参数：

```js
this.triggerEvent('handleTabItemChange', { index })
//父组件接收：
bindhandleTabItemChange="handleTab"

//注意 bind后面事件要与triggerEvent的事件一致，即要绑定的是自定义事件，
//handleTab才是父组件的js事件
```



### replace替换文本时不生效，原因没有重新赋值

```js
swiperList.map(v => v.navigator_url.replace(/main/, "index")); //错误，没赋值
swiperList.map(v => v.navigator_url = v.navigator_url.replace(/main/, "index")); 
```

### 打印的值改变了，但微信开发者工具的 AppData 的值没有改变

[网址](https://blog.csdn.net/crxk_/article/details/107449261)

```

打印的值改变了，但微信开发者工具的 AppData 的值没有改变

已解决：

原因：AppData 值的改变是基于值发生修改时才会被调用。对数组的某一元素更新时，
可能工具并未识别到已更改，故没有调用 AppData 改变值方法。

解决：使用一个非数组变量实时改变值，就能调用 AppData 改变值方法，顺便修改了数组的值，
已实践验证。若变量赋值常量时，则只有第一次修改变量及数组

```





## 注意：

识别文本的换行符 用text标签，view标签无法识别